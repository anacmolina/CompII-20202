Nota sobre compilación:

En un computador con Ubuntu 18.04 el código funciona correctamente, en Mac por el contrario no lo hace.
